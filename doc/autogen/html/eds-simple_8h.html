<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Glite Encrypted Data Storage Client: eds-simple.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">interface</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">glite</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">data</a>&nbsp;/&nbsp;<a class="el" href="dir_000003.html">hydra</a>&nbsp;/&nbsp;<a class="el" href="dir_000004.html">c</a></div>
<h1>eds-simple.h File Reference</h1><code>#include &lt;openssl/evp.h&gt;</code><br>

<p>
<a href="eds-simple_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a0">glite_eds_register</a> (char *lfn, char *surl, char *cipher, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a new file in Hydra: create metadata entries (key/iv/.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">EVP_CIPHER_CTX *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a1">glite_eds_register_encrypt_init</a> (char *lfn, char *surl, char *cipher, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register a new file in Hydra: create metadata entries (key/iv/.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">EVP_CIPHER_CTX *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a2">glite_eds_encrypt_init</a> (char *lfn, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize encryption context for a file.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">EVP_CIPHER_CTX *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a3">glite_eds_decrypt_init</a> (char *lfn, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize decryption context for a file.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a4">glite_eds_encrypt_block</a> (EVP_CIPHER_CTX *ectx, char *mem_in, int mem_in_size, char **mem_out, int *mem_out_size, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encrypts a memory block using the encryption context.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a5">glite_eds_encrypt_final</a> (EVP_CIPHER_CTX *ectx, char **mem_out, int *mem_out_size, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalizes memory block encryption.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a6">glite_eds_decrypt_block</a> (EVP_CIPHER_CTX *dctx, char *mem_in, int mem_in_size, char **mem_out, int *mem_out_size, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrypts a memory block using the encryption context.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a7">glite_eds_decrypt_final</a> (EVP_CIPHER_CTX *dctx, char **mem_out, int *mem_out_size, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalizes memory block encryption.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a8">glite_eds_finalize</a> (EVP_CIPHER_CTX *ctx, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize an encryption/decryption context.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="eds-simple_8h.html#a9">glite_eds_unregister</a> (char *lfn, char **error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unregister catalog entries in case of error (key/iv).  <a href="#a9"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a6" doxytag="eds-simple.h::glite_eds_decrypt_block"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_decrypt_block           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX *&nbsp;</td>
          <td class="mdname" nowrap> <em>dctx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_in_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Decrypts a memory block using the encryption context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Decryption context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in</em>&nbsp;</td><td>Memory block to decrypt </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in_size</em>&nbsp;</td><td>Memory block size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out Decrypted memory block's address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out_size Decrypted memory block's size</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of there was no error. In other cases, *error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="eds-simple.h::glite_eds_decrypt_final"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_decrypt_final           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX *&nbsp;</td>
          <td class="mdname" nowrap> <em>dctx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finalizes memory block encryption. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Decryption context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in</em>&nbsp;</td><td>Memory block to decrypt </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in_size</em>&nbsp;</td><td>Memory block size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out Decrypted memory block's address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out_size Decrypted memory block's size</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of there was no error. In other cases, *error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="eds-simple.h::glite_eds_decrypt_init"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX* glite_eds_decrypt_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>lfn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize decryption context for a file. 
<p>
Query key/iv/... from metadata catalog<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lfn</em>&nbsp;</td><td>The name of the remote file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>error Pointer to the error string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Decryption context in case of no error. In other cases NULL is returned, and *error contains the error string. The caller is responsible for freeing the allocated error string. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="eds-simple.h::glite_eds_encrypt_block"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_encrypt_block           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX *&nbsp;</td>
          <td class="mdname" nowrap> <em>ectx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_in_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Encrypts a memory block using the encryption context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Encryption context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in</em>&nbsp;</td><td>Memory block to encrypt </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in_size</em>&nbsp;</td><td>Memory block size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out Encrypted memory block's address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out_size Encrypted memory block's size</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of there was no error. In other cases, *error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="eds-simple.h::glite_eds_encrypt_final"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_encrypt_final           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX *&nbsp;</td>
          <td class="mdname" nowrap> <em>ectx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>mem_out_size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finalizes memory block encryption. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Encryption context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in</em>&nbsp;</td><td>Memory block to encrypt </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mem_in_size</em>&nbsp;</td><td>Memory block size </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out Encrypted memory block's address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>mem_out_size Encrypted memory block's size</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of there was no error. In other cases, *error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="eds-simple.h::glite_eds_encrypt_init"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX* glite_eds_encrypt_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>lfn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize encryption context for a file. 
<p>
Query key/iv/... from metadata catalog<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lfn</em>&nbsp;</td><td>The name of the remote file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>error Pointer to the error string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Encryption context in case of no error. In other cases NULL is returned, and *error contains the error string. The caller is responsible for freeing the allocated error string. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="eds-simple.h::glite_eds_finalize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_finalize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX *&nbsp;</td>
          <td class="mdname" nowrap> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Finalize an encryption/decryption context. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>Encryption/decryption context</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of there was no error. In other cases, *error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="eds-simple.h::glite_eds_register"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_register           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>lfn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>surl</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register a new file in Hydra: create metadata entries (key/iv/. 
<p>
..)<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lfn</em>&nbsp;</td><td>The name of the remote file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>surl</em>&nbsp;</td><td>The SURL of the remote file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cipher</em>&nbsp;</td><td>The cipher name to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>error Pointer to the error string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of no error. In other cases *error contains the error string. The caller is responsible for freeing the allocated error string. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="eds-simple.h::glite_eds_register_encrypt_init"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">EVP_CIPHER_CTX* glite_eds_register_encrypt_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>lfn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>surl</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register a new file in Hydra: create metadata entries (key/iv/. 
<p>
..), initalizes encryption context<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lfn</em>&nbsp;</td><td>The name of the remote file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>surl</em>&nbsp;</td><td>The SURL of the remote file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cipher</em>&nbsp;</td><td>The cipher name to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>[OUT]</em>&nbsp;</td><td>error Pointer to the error string.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Encryption context in case of no error. In other cases NULL is returned, and *error contains the error string. The caller is responsible for freeing the allocated error string. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="eds-simple.h::glite_eds_unregister"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int glite_eds_unregister           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>lfn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>error</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unregister catalog entries in case of error (key/iv). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lfn</em>&nbsp;</td><td>The name of the remote file.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 in case of there was no error. In other cases, *error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success </dd></dl>
    </td>
  </tr>
</table>
<hrule>
The <a href="http://glite.web.cern.ch/glite/">GLite Project</a>. All rights reserved.
</body>
</html>

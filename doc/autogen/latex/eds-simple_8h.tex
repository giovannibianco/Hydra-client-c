\hypertarget{eds-simple_8h}{
\subsection{eds-simple.h File Reference}
\label{eds-simple_8h}\index{eds-simple.h@{eds-simple.h}}
}
{\tt \#include $<$openssl/evp.h$>$}\par
\subsubsection*{Functions}
\begin{CompactItemize}
\item 
int \hyperlink{eds-simple_8h_a0}{glite\_\-eds\_\-register} (char $\ast$lfn, char $\ast$surl, char $\ast$cipher, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Register a new file in Hydra: create metadata entries (key/iv/. \item\end{CompactList}\item 
EVP\_\-CIPHER\_\-CTX $\ast$ \hyperlink{eds-simple_8h_a1}{glite\_\-eds\_\-register\_\-encrypt\_\-init} (char $\ast$lfn, char $\ast$surl, char $\ast$cipher, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Register a new file in Hydra: create metadata entries (key/iv/. \item\end{CompactList}\item 
EVP\_\-CIPHER\_\-CTX $\ast$ \hyperlink{eds-simple_8h_a2}{glite\_\-eds\_\-encrypt\_\-init} (char $\ast$lfn, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Initialize encryption context for a file. \item\end{CompactList}\item 
EVP\_\-CIPHER\_\-CTX $\ast$ \hyperlink{eds-simple_8h_a3}{glite\_\-eds\_\-decrypt\_\-init} (char $\ast$lfn, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Initialize decryption context for a file. \item\end{CompactList}\item 
int \hyperlink{eds-simple_8h_a4}{glite\_\-eds\_\-encrypt\_\-block} (EVP\_\-CIPHER\_\-CTX $\ast$ectx, char $\ast$mem\_\-in, int mem\_\-in\_\-size, char $\ast$$\ast$mem\_\-out, int $\ast$mem\_\-out\_\-size, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Encrypts a memory block using the encryption context. \item\end{CompactList}\item 
int \hyperlink{eds-simple_8h_a5}{glite\_\-eds\_\-encrypt\_\-final} (EVP\_\-CIPHER\_\-CTX $\ast$ectx, char $\ast$$\ast$mem\_\-out, int $\ast$mem\_\-out\_\-size, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Finalizes memory block encryption. \item\end{CompactList}\item 
int \hyperlink{eds-simple_8h_a6}{glite\_\-eds\_\-decrypt\_\-block} (EVP\_\-CIPHER\_\-CTX $\ast$dctx, char $\ast$mem\_\-in, int mem\_\-in\_\-size, char $\ast$$\ast$mem\_\-out, int $\ast$mem\_\-out\_\-size, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Decrypts a memory block using the encryption context. \item\end{CompactList}\item 
int \hyperlink{eds-simple_8h_a7}{glite\_\-eds\_\-decrypt\_\-final} (EVP\_\-CIPHER\_\-CTX $\ast$dctx, char $\ast$$\ast$mem\_\-out, int $\ast$mem\_\-out\_\-size, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Finalizes memory block encryption. \item\end{CompactList}\item 
int \hyperlink{eds-simple_8h_a8}{glite\_\-eds\_\-finalize} (EVP\_\-CIPHER\_\-CTX $\ast$ctx, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Finalize an encryption/decryption context. \item\end{CompactList}\item 
int \hyperlink{eds-simple_8h_a9}{glite\_\-eds\_\-unregister} (char $\ast$lfn, char $\ast$$\ast$error)
\begin{CompactList}\small\item\em Unregister catalog entries in case of error (key/iv). \item\end{CompactList}\end{CompactItemize}


\subsubsection{Function Documentation}
\hypertarget{eds-simple_8h_a6}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_decrypt_block@{glite\_\-eds\_\-decrypt\_\-block}}
\index{glite_eds_decrypt_block@{glite\_\-eds\_\-decrypt\_\-block}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-decrypt\_\-block]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-decrypt\_\-block (EVP\_\-CIPHER\_\-CTX $\ast$ {\em dctx}, char $\ast$ {\em mem\_\-in}, int {\em mem\_\-in\_\-size}, char $\ast$$\ast$ {\em mem\_\-out}, int $\ast$ {\em mem\_\-out\_\-size}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a6}


Decrypts a memory block using the encryption context. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em ctx}]Decryption context \item[{\em mem\_\-in}]Memory block to decrypt \item[{\em mem\_\-in\_\-size}]Memory block size \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out Decrypted memory block's address \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out\_\-size Decrypted memory block's size\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of there was no error. In other cases, $\ast$error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success \end{Desc}
\hypertarget{eds-simple_8h_a7}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_decrypt_final@{glite\_\-eds\_\-decrypt\_\-final}}
\index{glite_eds_decrypt_final@{glite\_\-eds\_\-decrypt\_\-final}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-decrypt\_\-final]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-decrypt\_\-final (EVP\_\-CIPHER\_\-CTX $\ast$ {\em dctx}, char $\ast$$\ast$ {\em mem\_\-out}, int $\ast$ {\em mem\_\-out\_\-size}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a7}


Finalizes memory block encryption. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em ctx}]Decryption context \item[{\em mem\_\-in}]Memory block to decrypt \item[{\em mem\_\-in\_\-size}]Memory block size \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out Decrypted memory block's address \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out\_\-size Decrypted memory block's size\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of there was no error. In other cases, $\ast$error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success \end{Desc}
\hypertarget{eds-simple_8h_a3}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_decrypt_init@{glite\_\-eds\_\-decrypt\_\-init}}
\index{glite_eds_decrypt_init@{glite\_\-eds\_\-decrypt\_\-init}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-decrypt\_\-init]{\setlength{\rightskip}{0pt plus 5cm}EVP\_\-CIPHER\_\-CTX$\ast$ glite\_\-eds\_\-decrypt\_\-init (char $\ast$ {\em lfn}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a3}


Initialize decryption context for a file. 

Query key/iv/... from metadata catalog

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em lfn}]The name of the remote file. \item[{\em \mbox{[}OUT\mbox{]}}]error Pointer to the error string.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Decryption context in case of no error. In other cases NULL is returned, and $\ast$error contains the error string. The caller is responsible for freeing the allocated error string. \end{Desc}
\hypertarget{eds-simple_8h_a4}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_encrypt_block@{glite\_\-eds\_\-encrypt\_\-block}}
\index{glite_eds_encrypt_block@{glite\_\-eds\_\-encrypt\_\-block}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-encrypt\_\-block]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-encrypt\_\-block (EVP\_\-CIPHER\_\-CTX $\ast$ {\em ectx}, char $\ast$ {\em mem\_\-in}, int {\em mem\_\-in\_\-size}, char $\ast$$\ast$ {\em mem\_\-out}, int $\ast$ {\em mem\_\-out\_\-size}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a4}


Encrypts a memory block using the encryption context. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em ctx}]Encryption context \item[{\em mem\_\-in}]Memory block to encrypt \item[{\em mem\_\-in\_\-size}]Memory block size \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out Encrypted memory block's address \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out\_\-size Encrypted memory block's size\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of there was no error. In other cases, $\ast$error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success \end{Desc}
\hypertarget{eds-simple_8h_a5}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_encrypt_final@{glite\_\-eds\_\-encrypt\_\-final}}
\index{glite_eds_encrypt_final@{glite\_\-eds\_\-encrypt\_\-final}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-encrypt\_\-final]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-encrypt\_\-final (EVP\_\-CIPHER\_\-CTX $\ast$ {\em ectx}, char $\ast$$\ast$ {\em mem\_\-out}, int $\ast$ {\em mem\_\-out\_\-size}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a5}


Finalizes memory block encryption. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em ctx}]Encryption context \item[{\em mem\_\-in}]Memory block to encrypt \item[{\em mem\_\-in\_\-size}]Memory block size \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out Encrypted memory block's address \item[{\em \mbox{[}OUT\mbox{]}}]mem\_\-out\_\-size Encrypted memory block's size\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of there was no error. In other cases, $\ast$error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success \end{Desc}
\hypertarget{eds-simple_8h_a2}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_encrypt_init@{glite\_\-eds\_\-encrypt\_\-init}}
\index{glite_eds_encrypt_init@{glite\_\-eds\_\-encrypt\_\-init}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-encrypt\_\-init]{\setlength{\rightskip}{0pt plus 5cm}EVP\_\-CIPHER\_\-CTX$\ast$ glite\_\-eds\_\-encrypt\_\-init (char $\ast$ {\em lfn}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a2}


Initialize encryption context for a file. 

Query key/iv/... from metadata catalog

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em lfn}]The name of the remote file. \item[{\em \mbox{[}OUT\mbox{]}}]error Pointer to the error string.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Encryption context in case of no error. In other cases NULL is returned, and $\ast$error contains the error string. The caller is responsible for freeing the allocated error string. \end{Desc}
\hypertarget{eds-simple_8h_a8}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_finalize@{glite\_\-eds\_\-finalize}}
\index{glite_eds_finalize@{glite\_\-eds\_\-finalize}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-finalize]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-finalize (EVP\_\-CIPHER\_\-CTX $\ast$ {\em ctx}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a8}


Finalize an encryption/decryption context. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em ctx}]Encryption/decryption context\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of there was no error. In other cases, $\ast$error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success \end{Desc}
\hypertarget{eds-simple_8h_a0}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_register@{glite\_\-eds\_\-register}}
\index{glite_eds_register@{glite\_\-eds\_\-register}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-register]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-register (char $\ast$ {\em lfn}, char $\ast$ {\em surl}, char $\ast$ {\em cipher}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a0}


Register a new file in Hydra: create metadata entries (key/iv/. 

..)

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em lfn}]The name of the remote file. \item[{\em surl}]The SURL of the remote file. \item[{\em cipher}]The cipher name to use. \item[{\em \mbox{[}OUT\mbox{]}}]error Pointer to the error string.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of no error. In other cases $\ast$error contains the error string. The caller is responsible for freeing the allocated error string. \end{Desc}
\hypertarget{eds-simple_8h_a1}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_register_encrypt_init@{glite\_\-eds\_\-register\_\-encrypt\_\-init}}
\index{glite_eds_register_encrypt_init@{glite\_\-eds\_\-register\_\-encrypt\_\-init}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-register\_\-encrypt\_\-init]{\setlength{\rightskip}{0pt plus 5cm}EVP\_\-CIPHER\_\-CTX$\ast$ glite\_\-eds\_\-register\_\-encrypt\_\-init (char $\ast$ {\em lfn}, char $\ast$ {\em surl}, char $\ast$ {\em cipher}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a1}


Register a new file in Hydra: create metadata entries (key/iv/. 

..), initalizes encryption context

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em lfn}]The name of the remote file. \item[{\em surl}]The SURL of the remote file. \item[{\em cipher}]The cipher name to use. \item[{\em \mbox{[}OUT\mbox{]}}]error Pointer to the error string.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Encryption context in case of no error. In other cases NULL is returned, and $\ast$error contains the error string. The caller is responsible for freeing the allocated error string. \end{Desc}
\hypertarget{eds-simple_8h_a9}{
\index{eds-simple.h@{eds-simple.h}!glite_eds_unregister@{glite\_\-eds\_\-unregister}}
\index{glite_eds_unregister@{glite\_\-eds\_\-unregister}!eds-simple.h@{eds-simple.h}}
\paragraph[glite\_\-eds\_\-unregister]{\setlength{\rightskip}{0pt plus 5cm}int glite\_\-eds\_\-unregister (char $\ast$ {\em lfn}, char $\ast$$\ast$ {\em error})}\hfill}
\label{eds-simple_8h_a9}


Unregister catalog entries in case of error (key/iv). 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em lfn}]The name of the remote file.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 in case of there was no error. In other cases, $\ast$error contains the error string. The caller is responsible for freeing the allocated string and the returned memory block in case of success \end{Desc}
